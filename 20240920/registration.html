<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./CSS/common.css" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
    </style>
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <h1>온라인 수강 신청</h1>
      <form name="myForm">
        <fieldset>
          <legend>온라인수강신청</legend>
          <ul class="fmList">
            <li>
              <label for="user" class="title">이름</label>
              <input type="text" name="user" id="user" />
            </li>

            <li>
              <strong class="title">학년</strong>
              <label>
                <input type="radio" name="grade" value="1학년" checked />
                <span>1학년</span>
              </label>
              <label>
                <input type="radio" name="grade" value="2학년" />
                <span>2학년</span>
              </label>
              <label>
                <input type="radio" name="grade" value="3학년" />
                <span>3학년</span>
              </label>
            </li>

            <li>
              <label for="subject" class="title">과목선택</label>
              <select name="subject" id="subject">
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="javascript">JS</option>
              </select>
            </li>
            <li>
              <label for="note" class="title">Note</label>
              <textarea name="note" id="note"></textarea>
            </li>
          </ul>

          <div class="btn-area">
            <button type="submit" class="btn">신청하기</button>
          </div>
        </fieldset>
      </form>

      <div class="result-container"></div>
    </div>
    <script>
      const fm = document.forms.myForm;
      const result = document.querySelector(".result-container");

      const getGrade = () => {
        for (item of fm.grade) {
          if (item.checked) {
            return item.value;
          }
        }
      };

      const setResultMsg = () => {
        // 유저의 입력에 대한 innerHTML을 사용하면 보안상의 위험이 있다 . html 태그 삽입 가능
        result.innerHTML = `<p><strong>${
          fm.user.value
        }(${getGrade()})</strong></p>
         <p><strong>${
           fm.subject.selectedOptions[0].value
         } 과목이 수강신청 되었습니다.</p></strong>
         <p><strong>전달메모 : ${fm.note.value}</p></strong>
        `;
      };

      const register = (event) => {
        event.preventDefault();
        setResultMsg();
      };

      fm.addEventListener("submit", register);
    </script>
  </body>
</html>
